<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>F1 Predictions Lite</title>
    <link rel="stylesheet" href="/styles.css" />
    <script>document.documentElement.setAttribute('data-theme', localStorage.getItem('f1-theme') || 'light');</script>
  </head>
  <body class="weekly-page" data-weekly-layout="hybrid-1-3">
    <div class="page-max">
      <button id="themeToggle" class="theme-switch" type="button" aria-label="Toggle theme" aria-pressed="false">
        <span class="theme-icon sun" aria-hidden="true">☀</span>
        <span class="theme-icon moon" aria-hidden="true">☾</span>
        <span class="theme-knob" aria-hidden="true"></span>
      </button>

      <header class="app-header">
        <div>
          <div class="brand">
            <img class="brand-mark" src="/assets/f1-logo.svg" alt="F1 logo" />
            <span class="brand-title">Predictions</span>
          </div>
          <h1>Race Weekend Desk</h1>
        </div>
        <div class="header-actions">
          <a class="btn ghost active" aria-current="page" href="/index.html">Weekly picks</a>
          <a class="btn ghost" href="/season.html">Season hub</a>
          <a class="btn ghost" href="/weekly-stats.html">Historical</a>
          <a class="btn ghost" href="/template.html">Year long</a>
          <button id="updateDataBtn" class="btn">Update data</button>
        </div>
      </header>

      <section id="weekendFocus" class="card weekend-focus"></section>

      <main class="grid weekly-grid" style="margin-top: 16px;">
        <section class="card prediction-card">
          <div class="prediction-head">
            <h2 id="predictionTitle">Guided Prediction</h2>
          </div>

          <div id="stepperControls" class="stepper-controls" aria-label="Two-step navigation">
            <button class="btn ghost step-btn" data-step="1" type="button">Setup</button>
            <button class="btn ghost step-btn" data-step="2" type="button">Picks</button>
            <button class="btn ghost step-btn" data-step="3" type="button">Review</button>
          </div>

          <section id="userFocus" class="user-focus-card"></section>

          <div class="stage" data-step-panel="1">
            <div class="controls">
              <label>
                User
                <select id="userSelect"></select>
              </label>
              <label>
                Season
                <select id="seasonSelect"></select>
              </label>
              <label>
                Round
                <select id="roundSelect"></select>
              </label>
            </div>
          </div>

          <form id="predictionForm" class="pred-form stage" data-step-panel="2">
            <label class="pick-slot">
              <span class="pick-slot-title">P1</span>
              <select data-pick="p1" class="driverSelect"></select>
              <small class="pick-insight" data-insight="p1">Top winner call</small>
            </label>
            <label class="pick-slot">
              <span class="pick-slot-title">P2</span>
              <select data-pick="p2" class="driverSelect"></select>
              <small class="pick-insight" data-insight="p2">Second place call</small>
            </label>
            <label class="pick-slot">
              <span class="pick-slot-title">P3</span>
              <select data-pick="p3" class="driverSelect"></select>
              <small class="pick-insight" data-insight="p3">Podium finisher</small>
            </label>
            <label class="pick-slot">
              <span class="pick-slot-title">Pole Position</span>
              <select data-pick="pole" class="driverSelect"></select>
              <small class="pick-insight" data-insight="pole">One-lap pace</small>
            </label>
            <label class="pick-slot">
              <span class="pick-slot-title">Fastest Lap</span>
              <select data-pick="fastestLap" class="driverSelect"></select>
              <small class="pick-insight" data-insight="fastestLap">Race pace wildcard</small>
            </label>
            <label class="pick-slot">
              <span class="pick-slot-title">Wild Card</span>
              <input data-pick="wildcardText" id="wildcardText" type="text" placeholder="Your wildcard call" />
              <small class="pick-insight">Free text call</small>
            </label>
            <label class="pick-slot">
              <span class="pick-slot-title">Lock Pick (x2)</span>
              <select id="lockField">
                <option value="">-</option>
                <option value="p1">P1</option>
                <option value="p2">P2</option>
                <option value="p3">P3</option>
                <option value="pole">Pole</option>
                <option value="fastestLap">Fastest Lap</option>
              </select>
              <small class="pick-insight">Confidence multiplier</small>
            </label>
            <button class="btn" type="submit">Save prediction</button>
          </form>

          <section id="reviewPanel" class="stage" data-step-panel="3"></section>

          <div id="stepActions" class="step-actions">
            <button id="stepPrevBtn" class="btn ghost" type="button">Back</button>
            <button id="stepNextBtn" class="btn" type="button">Continue</button>
          </div>

          <div class="pred-results" id="predResults"></div>
        </section>

        <section class="card driver-form-card">
          <div class="prediction-head">
            <h2>Driver Form Deck</h2>
            <div class="chip">Live form</div>
          </div>
          <div id="statsHighlights" class="stats-highlights"></div>
          <div id="statsTable" class="table"></div>
        </section>
      </main>

      <script src="/theme.js" type="module"></script>
      <script src="/app.js" type="module"></script>
    </div>
  </body>
</html>
